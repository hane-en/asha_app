# تطبيق آشا لخدمات المناسبات

## نظرة عامة

تطبيق آشا هو نظام متكامل لإدارة خدمات المناسبات (حفلات، أعراس، فعاليات...)، يتكون من:
- **تطبيق Flutter** للواجهة الأمامية (Android/iOS/Web)
- **واجهة خلفية PHP** (RESTful API) لإدارة البيانات والخدمات

---

## المميزات الرئيسية
- تسجيل ودخول المستخدمين (عميل، مزود خدمة، مدير)
- إدارة الخدمات (إضافة، تعديل، حذف، عرض)
- نظام حجوزات متكامل
- نظام مفضلة وتقييمات وتعليقات
- إشعارات فورية
- لوحة تحكم للإدارة
- دعم تعدد اللغات (عربي/إنجليزي)
- واجهة مستخدم عصرية وسهلة

---

## متطلبات التشغيل

### الواجهة الأمامية (Flutter)
- Flutter SDK 3.8.1+
- Android Studio أو VSCode
- جهاز Android/iOS أو محاكي

### الواجهة الخلفية (PHP)
- PHP 7.4+
- MySQL 5.7+
- Apache/Nginx
- مكتبة cURL وJSON

---

## طريقة التشغيل

### 1. تشغيل الواجهة الخلفية
1. ارفع مجلد `asha_app_backend/` إلى الخادم
2. أنشئ قاعدة البيانات عبر ملف `database_setup.sql`
3. عدل إعدادات الاتصال في `config.php`
4. تأكد من صلاحيات مجلدات `uploads/` و`logs/`

### 2. تشغيل تطبيق Flutter
1. ثبت المتطلبات:
   ```bash
   flutter pub get
   ```
2. شغّل التطبيق:
   ```bash
   flutter run
   ```
3. عدل عنوان السيرفر في `lib/constants/api_constants.dart` إذا لزم

---

## بنية المجلدات

```
asha_app-master_before/
├── lib/                # كود تطبيق Flutter
│   ├── models/         # النماذج (User, Service, Booking...)
│   ├── screens/        # الشاشات (مستخدم، مزود، مدير)
│   ├── services/       # منطق الاتصال بالـ API
│   ├── routes/         # إدارة التنقل بين الصفحات
│   ├── constants/      # الثوابت (روابط API...)
│   └── utils/          # أدوات مساعدة
├── asha_app_backend/   # كود الواجهة الخلفية PHP
│   ├── api/            # نقاط النهاية (Endpoints)
│   ├── models/         # نماذج البيانات
│   ├── classes/        # فئات مساعدة
│   ├── uploads/        # ملفات الرفع
│   ├── logs/           # السجلات
│   └── ...             # ملفات التكوين وقاعدة البيانات
└── ...
```

---

## شرح تفصيلي لصفحات التطبيق

### أولاً: صفحات المستخدم العادي

| الصفحة                | الوظيفة الرئيسية                                                                                 |
|-----------------------|-------------------------------------------------------------------------------------------------|
| الصفحة الرئيسية       | عرض الخدمات المميزة، تصفح الفئات، الوصول السريع للبحث والمفضلة والإشعارات                        |
| البحث                | البحث عن الخدمات حسب الاسم أو الفئة                                                               |
| قائمة الخدمات         | عرض جميع الخدمات ضمن فئة معينة مع تفاصيل مختصرة                                                  |
| تفاصيل الخدمة        | عرض معلومات الخدمة، الصور، الأسعار، التقييمات، إمكانية الحجز أو الإضافة للمفضلة                 |
| المفضلة              | عرض جميع الخدمات التي أضافها المستخدم للمفضلة                                                    |
| حالة الحجوزات        | متابعة حالة جميع الحجوزات (قيد التنفيذ، مكتملة، ملغاة...)                                         |
| الإعدادات            | تغيير اللغة، الوضع الليلي، إدارة الحساب                                                          |
| تعديل البيانات       | تعديل بيانات المستخدم الشخصية (اسم، بريد، رقم...)                                                |
| حذف الحساب           | حذف الحساب بشكل نهائي                                                                             |
| المساعدة             | الوصول إلى الأسئلة الشائعة أو التواصل مع الدعم                                                    |
| تسجيل الخروج         | تسجيل الخروج من التطبيق                                                                           |

**ملاحظات:**
- جميع الصفحات متاحة من القائمة الجانبية (Drawer) أو من شريط الأدوات العلوي.
- يمكن للمستخدم التنقل بسهولة بين الصفحات دون فقدان البيانات.

---

### ثانياً: صفحات مزود الخدمة

| الصفحة                   | الوظيفة الرئيسية                                                                                 |
|--------------------------|-------------------------------------------------------------------------------------------------|
| لوحة مزود الخدمة         | نظرة عامة على الحساب، حالة التفعيل، إشعارات، إحصائيات سريعة                                     |
| خدماتي                   | إدارة جميع الخدمات التي يقدمها المزود (إضافة، تعديل، حذف)                                        |
| إضافة خدمة               | إضافة خدمة جديدة مع تفاصيل وصور                                                                 |
| إعلاناتي                 | إدارة الإعلانات الخاصة بالمزود                                                                   |
| إضافة إعلان              | إضافة إعلان جديد                                                                                |
| حجوزاتي                  | متابعة جميع الحجوزات الواردة على خدمات المزود                                                    |
| قيد الانتظار             | عرض الطلبات أو الحجوزات التي تحتاج موافقة أو تحت المراجعة                                        |
| التعليقات والتقييمات      | عرض جميع التقييمات والتعليقات على خدمات المزود                                                   |
| الإحصائيات               | عرض تقارير وإحصائيات حول الأداء والحجوزات                                                        |
| تعديل البيانات الشخصية   | تعديل بيانات المزود (اسم، وصف، صورة، ...)
| الإعدادات                | تغيير اللغة، الوضع الليلي، إدارة الحساب                                                        |
| المساعدة                 | الوصول إلى الدعم الفني أو الأسئلة الشائعة                                                       |
| تسجيل الخروج             | تسجيل الخروج من التطبيق                                                                         |

**ملاحظات:**
- تظهر حالة الحساب (مفعل/قيد المراجعة/مرفوض) بشكل واضح في اللوحة الرئيسية.
- جميع العمليات تتم بسهولة مع رسائل توضيحية للمستخدم.

---

### ثالثاً: صفحات المدير (لوحة الإدارة)

| الصفحة                | الوظيفة الرئيسية                                                                                 |
|-----------------------|-------------------------------------------------------------------------------------------------|
| لوحة تحكم المدير       | الوصول السريع لإدارة المستخدمين، الخدمات، الإعلانات، التعليقات، الحجوزات، طلبات الانضمام         |
| إدارة المستخدمين      | عرض جميع المستخدمين، البحث، حذف أو تعديل بيانات المستخدم                                         |
| إدارة الخدمات         | عرض جميع الخدمات، البحث، حذف أو تعديل أي خدمة                                                    |
| إدارة الإعلانات       | عرض جميع الإعلانات، حذف أو تعديل إعلان                                                           |
| إدارة التعليقات       | مراجعة جميع التعليقات والتقييمات، حذف التعليقات المخالفة                                          |
| إدارة الحجوزات        | متابعة جميع الحجوزات، تغيير الحالة، حذف الحجوزات                                                 |
| طلبات الانضمام        | مراجعة طلبات مزودي الخدمة الجدد، قبول أو رفض الطلبات                                             |
| طلبات تحديث البيانات  | مراجعة طلبات تعديل بيانات المستخدمين أو المزودين                                                 |
| إدارة الدفعات         | متابعة عمليات الدفع بين العملاء والمزودين                                                        |
| الإعدادات             | إعدادات النظام العامة                                                                            |

**ملاحظات:**
- جميع العمليات الإدارية تتم عبر واجهات سهلة مع تأكيد قبل الحذف أو التعديل.
- تظهر إحصائيات سريعة في بعض الصفحات (عدد المستخدمين، عدد الخدمات، ...)

---

## قاعدة البيانات (أهم الجداول)

- **users**: بيانات المستخدمين (عميل/مزود/مدير)
- **categories**: فئات الخدمات
- **services**: الخدمات المقدمة
- **bookings**: الحجوزات
- **offers**: العروض
- **favorites**: المفضلة
- **reviews**: التقييمات
- **notifications**: الإشعارات

> انظر ملف `asha_app_backend/database_setup.sql` لمخطط كامل

---

## أمثلة على API (REST)

- تسجيل مستخدم جديد: `POST /api/auth/register.php`
- تسجيل الدخول: `POST /api/auth/login.php`
- جلب جميع الخدمات: `GET /api/services/get_all.php`
- حجز خدمة: `POST /api/bookings/create.php`
- إضافة للمفضلة: `POST /api/favorites/toggle.php`

> جميع الاستجابات بصيغة JSON. انظر `asha_app_backend/API_DOCUMENTATION.md` لتوثيق كامل.

---

## تكامل الواجهة الأمامية مع الخلفية

- جميع الطلبات تتم عبر HTTP باستخدام مكتبة `http` أو `dio`
- الثوابت وروابط الـ API في `lib/constants/api_constants.dart`
- النماذج متوافقة مع JSON (انظر `lib/models/`)
- إدارة الحالة عبر `provider`

---

## مساهمتك

- يمكنك تطوير أو تخصيص أي جزء من النظام
- الرجاء مراجعة ملفات التوثيق في `docs/` وداخل كل مجلد
- لأي استفسار أو مشكلة، تواصل مع فريق التطوير

---

## ملاحظات إضافية

- المشروع يدعم RTL بشكل كامل
- جميع الشيفرات منظمة وقابلة للتوسعة
- تم اختبار النظام على بيئة محلية وخادم فعلي

---

© 2024 تطبيق آشا لخدمات المناسبات 