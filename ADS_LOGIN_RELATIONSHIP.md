# ุงูุนูุงูุฉ ุจูู get_active_ads.php ูุชุณุฌูู ุงูุฏุฎูู

## ๐ **ุณุจุจ ุธููุฑ ุงูุฑุงุจุท ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู:**

### 1. **ุชุณูุณู ุงูุฃุญุฏุงุซ:**
```
ุชุณุฌูู ุงูุฏุฎูู โ ุชูุฌูู ุฅูู UserHomePage โ ุชุญููู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ โ ุนุฑุถ ุงูุฅุนูุงูุงุช
```

### 2. **ุงูุชูุงุตูู:**

**ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู:**
1. ูุชู ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู `UserHomePage`
2. ูู `initState()` ูุชู ุงุณุชุฏุนุงุก `_loadUserData()`, `_loadCategories()`, `_loadFeaturedServices()`
3. ูู `build()` ูุชู ุนุฑุถ `AdsCarouselWidget()`

**ูู AdsCarouselWidget:**
1. ูู `initState()` ูุชู ุงุณุชุฏุนุงุก `_loadAds()`
2. ูู `_loadAds()` ูุชู ุงุณุชุฏุนุงุก `ApiService.getActiveAds()`
3. ูู `ApiService.getActiveAds()` ูุชู ุฅุฑุณุงู ุทูุจ ุฅูู `ads/get_active_ads.php`

### 3. **ุงูููุฏ ุงููุณุคูู:**

**ูู `lib/screens/user/user_home_page.dart`:**
```dart
// ุงูุฅุนูุงูุงุช
const AdsCarouselWidget(),
```

**ูู `lib/widgets/ads_carousel_widget.dart`:**
```dart
Future<void> _loadAds() async {
  try {
    final ads = await ApiService.getActiveAds(); // ููุง ูุชู ุงูุทูุจ
    setState(() {
      _ads = ads;
      _isLoading = false;
    });
  } catch (e) {
    setState(() => _isLoading = false);
    print('Error loading ads: $e');
  }
}
```

**ูู `lib/services/api_service.dart`:**
```dart
static Future<List<AdModel>> getActiveAds() async {
  try {
    final data = await _makeRequest('ads/get_active_ads.php'); // ููุง ุงูุฑุงุจุท
    if (data['success'] == true) {
      return List<AdModel>.from(
        data['data'].map((item) => AdModel.fromJson(item)),
      );
    }
    return [];
  } catch (e) {
    print('Error getting active ads: $e');
    return [];
  }
}
```

### 4. **ุงูุฑุงุจุท ุงูููุงุฆู:**
```
http://localhost/asha_app_backend/ads/get_active_ads.php
```

## โ **ูู ูุฐุง ุทุจูุนูุ**

**ูุนูุ ูุฐุง ุณููู ุทุจูุนู ุชูุงูุงู!**

### ุงูุฃุณุจุงุจ:
1. **ุนุฑุถ ุงูุฅุนูุงูุงุช**: ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุชุญุชุงุฌ ูุนุฑุถ ุงูุฅุนูุงูุงุช ุงููุดุทุฉ
2. **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**: ุงูุฅุนูุงูุงุช ุชุฌุนู ุงูุชุทุจูู ุฃูุซุฑ ุฌุงุฐุจูุฉ
3. **ุฏุฎู ูููุฒูุฏูู**: ุงูุฅุนูุงูุงุช ูุตุฏุฑ ุฏุฎู ูููุฒูุฏูู
4. **ูุนูููุงุช ูููุฏุฉ**: ุงูุฅุนูุงูุงุช ุชุนุฑุถ ุนุฑูุถ ูุฎุฏูุงุช ุฌุฏูุฏุฉ

### ูุชู ูุญุฏุซ:
- โ ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู ูุฃูู ูุฑุฉ
- โ ุนูุฏ ูุชุญ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- โ ุนูุฏ ุชุญุฏูุซ ุงูุตูุญุฉ (pull to refresh)
- โ ุนูุฏ ุงูุนูุฏุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ

## ๐ **ูุง ูุญุฏุซ ูู ุงูุฎุงุฏู:**

**ูู `asha_app_backend/api/ads/get_active_ads.php`:**
```php
// ุฌูุจ ุงูุฅุนูุงูุงุช ุงููุดุทุฉ ุงูุชู ูู ุชูุชู ุตูุงุญูุชูุง ุจุนุฏ
$query = "SELECT * FROM ads WHERE is_active = 1 AND (end_date IS NULL OR end_date >= CURDATE()) ORDER BY created_at DESC";
$ads = $database->select($query);
```

## ๐ฏ **ุงููุชูุฌุฉ:**

- **ุนุฑุถ ุงูุฅุนูุงูุงุช**: ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- **ุชูุงุนู ุงููุณุชุฎุฏู**: ูููู ุงูููุฑ ุนูู ุงูุฅุนูุงูุงุช
- **ุชูุฌูู ููุฎุฏูุงุช**: ุงูุฅุนูุงูุงุช ุชุคุฏู ูุตูุญุงุช ุงูุฎุฏูุงุช
- **ุฏุฎู ูููุฒูุฏูู**: ุงูุฅุนูุงูุงุช ุชุฑูุฌ ูุฎุฏูุงุชูู

## ๐ **ููุงุญุธุงุช ูููุฉ:**

1. **ุทุจูุนู**: ูุฐุง ุทูุจ API ุนุงุฏู ูุฌูุจ ุงูุจูุงูุงุช
2. **ุถุฑูุฑู**: ูุนุฑุถ ุงูุฅุนูุงูุงุช ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
3. **ุขูู**: ูุฌุฑุฏ ุทูุจ GET ูููุฑุงุกุฉ ููุท
4. **ูููุฏ**: ูุญุณู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

---

**ุงูุฎูุงุตุฉ: ุงูุฑุงุจุท ูุธูุฑ ุจุดูู ุทุจูุนู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู ูุฃูู ุฌุฒุก ูู ุชุญููู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูุนุฑุถ ุงูุฅุนูุงูุงุช!** ๐ 