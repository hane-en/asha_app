# Asha App Backend
# ุฎูููุฉ ุชุทุจูู ุนุดุง

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ูู ุงูุฎุงุฏู ุงูุฎููู (Backend) ูุชุทุจูู ุนุดุงุ ูุจูู ุจูุบุฉ PHP ูุน ูุงุนุฏุฉ ุจูุงูุงุช MySQL.

## ๐๏ธ ูููู ุงููุดุฑูุน

```
new_backend/
โโโ config.php                 # ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุชุทุจูู
โโโ database_schema.sql        # ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ test_database.php          # ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ api/                       # ููุงุท ุงูููุงูุฉ API
โ   โโโ auth/                  # ุงููุตุงุฏูุฉ
โ   โ   โโโ login.php
โ   โ   โโโ register.php
โ   โ   โโโ verify.php
โ   โ   โโโ forgot_password.php
โ   โ   โโโ reset_password.php
โ   โโโ services/              # ุงูุฎุฏูุงุช
โ   โ   โโโ get_all.php
โ   โ   โโโ get_by_id.php
โ   โ   โโโ add_service.php
โ   โ   โโโ update_service.php
โ   โโโ categories/            # ุงููุฆุงุช
โ   โ   โโโ get_all.php
โ   โ   โโโ get_services_by_category.php
โ   โโโ admin/                 # ุงูุฅุฏุงุฑุฉ
โ   โโโ provider/              # ูุฒูุฏู ุงูุฎุฏูุงุช
โ   โโโ user/                  # ุงููุณุชุฎุฏููู
โ   โโโ bookings/              # ุงูุญุฌูุฒุงุช
โ   โโโ reviews/               # ุงูุชููููุงุช
โ   โโโ ads/                   # ุงูุฅุนูุงูุงุช
โ   โโโ notifications/         # ุงูุฅุดุนุงุฑุงุช
โ   โโโ messages/              # ุงูุฑุณุงุฆู
โ   โโโ payments/              # ุงููุฏููุนุงุช
โ   โโโ uploads/               # ุฑูุน ุงููููุงุช
โโโ uploads/                   # ุงููููุงุช ุงููุฑููุนุฉ
โ   โโโ images/
โ   โโโ profiles/
โ   โโโ services/
โ   โโโ ads/
โโโ logs/                      # ุณุฌูุงุช ุงููุธุงู
โโโ docs/                      # ุงููุซุงุฆู
```

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ:
- PHP 7.4 ุฃู ุฃุญุฏุซ
- MySQL 5.7 ุฃู ุฃุญุฏุซ
- Apache/Nginx
- Composer (ุงุฎุชูุงุฑู)

### ุฎุทูุงุช ุงูุชุซุจูุช:

#### 1. ูุณุฎ ุงููููุงุช ุฅูู ุฎุงุฏู ุงูููุจ:
```bash
# ูู XAMPP
cp -r new_backend/ C:/xampp/htdocs/asha_app_h/

# ูู Linux
sudo cp -r new_backend/ /var/www/html/asha_app_h/
```

#### 2. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
```bash
# ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql -u root -p
CREATE DATABASE asha_app_db;
CREATE USER 'asha_app'@'localhost' IDENTIFIED BY 'app_password';
GRANT ALL PRIVILEGES ON asha_app_db.* TO 'asha_app'@'localhost';
FLUSH PRIVILEGES;
EXIT;

# ุงุณุชูุฑุงุฏ ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql -u asha_app -p asha_app_db < database_schema.sql
```

#### 3. ุชุนุฏูู ุฅุนุฏุงุฏุงุช ุงูุงุชุตุงู:
ุชุญุฑูุฑ ููู `config.php` ูุชุญุฏูุซ:
- ูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
- ููุงุชูุญ ุงูุฃูุงู

#### 4. ุงุฎุชุจุงุฑ ุงูุชุซุจูุช:
```
http://localhost/asha_app_h/test_database.php
```

## ๐ง ุงูุฅุนุฏุงุฏุงุช

### ููู config.php:
```php
// ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
define('DB_HOST', 'localhost');
define('DB_NAME', 'asha_app_db');
define('DB_USER', 'asha_app');
define('DB_PASS', 'app_password');

// ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
define('APP_NAME', 'Asha App');
define('APP_URL', 'http://localhost/asha_app_h');
define('UPLOAD_PATH', __DIR__ . '/uploads/');

// ุฅุนุฏุงุฏุงุช ุงูุฃูุงู
define('JWT_SECRET', 'your-secret-key-here');
define('JWT_EXPIRY', 86400); // 24 ุณุงุนุฉ
```

## ๐ก ููุงุท ุงูููุงูุฉ API

### ุงููุตุงุฏูุฉ:
- `POST /api/auth/login.php` - ุชุณุฌูู ุงูุฏุฎูู
- `POST /api/auth/register.php` - ุฅูุดุงุก ุญุณุงุจ
- `POST /api/auth/verify.php` - ุงูุชุญูู ูู ุงูููุฏ

### ุงูุฎุฏูุงุช:
- `GET /api/services/get_all.php` - ุฌูุจ ุฌููุน ุงูุฎุฏูุงุช
- `GET /api/services/get_by_id.php` - ุฌูุจ ุฎุฏูุฉ ูุญุฏุฏุฉ
- `POST /api/services/add_service.php` - ุฅุถุงูุฉ ุฎุฏูุฉ ุฌุฏูุฏุฉ

### ุงููุฆุงุช:
- `GET /api/categories/get_all.php` - ุฌูุจ ุฌููุน ุงููุฆุงุช

## ๐ ุงูุฃูุงู

### CORS:
ูุชู ุฅุนุฏุงุฏ CORS ุชููุงุฆูุงู ูุฌููุน ุงูุทูุจุงุช.

### ุงูุชุญูู ูู ุงููุฏุฎูุงุช:
ุฌููุน ุงููุฏุฎูุงุช ูุชู ุชูุธูููุง ูุชุตููุชูุง.

### ุชุดููุฑ ูููุงุช ุงููุฑูุฑ:
ูุชู ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู `password_hash()`.

### JWT Tokens:
ูุชู ุฅูุดุงุก ูุฅุฏุงุฑุฉ tokens ูููุตุงุฏูุฉ.

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ:
- `users` - ุงููุณุชุฎุฏููู
- `categories` - ูุฆุงุช ุงูุฎุฏูุงุช
- `services` - ุงูุฎุฏูุงุช
- `bookings` - ุงูุญุฌูุฒุงุช
- `reviews` - ุงูุชููููุงุช
- `favorites` - ุงูููุถูุฉ
- `ads` - ุงูุฅุนูุงูุงุช

### ุงูุนูุงูุงุช:
- ูู ุฎุฏูุฉ ุชูุชูู ููุฆุฉ
- ูู ุฎุฏูุฉ ุชูุชูู ููุฒูุฏ ุฎุฏูุฉ
- ูู ุญุฌุฒ ููุชูู ููุณุชุฎุฏู ูุฎุฏูุฉ
- ูู ุชูููู ููุชูู ููุณุชุฎุฏู ูุฎุฏูุฉ

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุณุฌูุงุช ุงูุฃุฎุทุงุก:
```
logs/error_log.txt
```

### ุงุฎุชุจุงุฑ ุงูุงุชุตุงู:
```
http://localhost/asha_app_h/test_database.php
```

### ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ:
1. **ุฎุทุฃ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช**: ุชุญูู ูู ุฅุนุฏุงุฏุงุช `config.php`
2. **ุฎุทุฃ ูู ุงูุตูุงุญูุงุช**: ุชุฃูุฏ ูู ุตูุงุญูุงุช ุงููุฌูุฏุงุช
3. **ุฎุทุฃ ูู CORS**: ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุฎุงุฏู

## ๐ ุงูุชุทููุฑ

### ุฅุถุงูุฉ ููุทุฉ ููุงูุฉ ุฌุฏูุฏุฉ:
1. ุฅูุดุงุก ููู PHP ูู ุงููุฌูุฏ ุงูููุงุณุจ
2. ุงุณุชุฎุฏุงู `require_once '../../config.php'`
3. ุฅุนุฏุงุฏ CORS ูุงูุชุญูู ูู ุงููุฏุฎูุงุช
4. ุฅุฑุฌุงุน JSON response

### ูุซุงู:
```php
<?php
require_once '../../config.php';

header('Content-Type: application/json; charset=utf-8');
setupCORS();

// ููุทู ุงูููุฏ ููุง

echo json_encode(['success' => true, 'data' => $data]);
?>
```

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ูุงูุฏุนู:
- ุฑุงุฌุน ููู `test_database.php` ููุชุญูู ูู ุงูุชุซุจูุช
- ุชุญูู ูู ุณุฌูุงุช ุงูุฃุฎุทุงุก ูู `logs/`
- ุชุฃูุฏ ูู ุฅุนุฏุงุฏุงุช ุงูุฎุงุฏู ููุงุนุฏุฉ ุงูุจูุงูุงุช

---

**ููุงุญุธุฉ:** ุชุฃูุฏ ูู ุชุญุฏูุซ ุฅุนุฏุงุฏุงุช ุงูุฃูุงู ูุจู ุงููุดุฑ ูู ุงูุฅูุชุงุฌ. 